{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/Message.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-timeago\";\n\nfunction MemberMessagesComponent_ng_container_2_li_3_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r6.recipientKnownAs, \" (unread) \");\n  }\n}\n\nfunction MemberMessagesComponent_ng_container_2_li_3_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"timeago\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", message_r6.recipientKnownAs, \" Read: \", i0.ɵɵpipeBind1(2, 2, message_r6.dateRead), \" \");\n  }\n}\n\nfunction MemberMessagesComponent_ng_container_2_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"span\", 14);\n    i0.ɵɵtext(2, \" Sent by: \");\n    i0.ɵɵelement(3, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 16);\n    i0.ɵɵelementStart(5, \"div\", 17);\n    i0.ɵɵelementStart(6, \"small\", 18);\n    i0.ɵɵelementStart(7, \"span\", 19);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, MemberMessagesComponent_ng_container_2_li_3_span_10_Template, 2, 1, \"span\", 20);\n    i0.ɵɵtemplate(11, MemberMessagesComponent_ng_container_2_li_3_span_11_Template, 3, 4, \"span\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", message_r6.senderPhotoUrl || \"./assets/user.png\", i0.ɵɵsanitizeUrl)(\"alt\", message_r6.senderUsername);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" Sent: \", i0.ɵɵpipeBind1(9, 6, message_r6.messageSent), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !message_r6.dateRead && message_r6.senderUsername !== ctx_r5.username);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r6.dateRead && message_r6.senderUsername !== ctx_r5.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6.content);\n  }\n}\n\nfunction MemberMessagesComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ul\", 11, 12);\n    i0.ɵɵtemplate(3, MemberMessagesComponent_ng_container_2_li_3_Template, 14, 8, \"li\", 13);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(2);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"scrollTop\", _r4.scrollHeight);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(4, 2, ctx_r0.messageService.messageThread$));\n  }\n}\n\nfunction MemberMessagesComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"No messages yet.. say Hi to using the message box bellow\");\n  }\n}\n\nexport class MemberMessagesComponent {\n  constructor(messageService) {\n    this.messageService = messageService;\n  }\n\n  ngOnInit() {}\n\n  sendMessage(form) {\n    this.messageService.sendMessage(this.username, this.messageContent).then(() => {\n      form.reset();\n    });\n  }\n\n}\n\nMemberMessagesComponent.ɵfac = function MemberMessagesComponent_Factory(t) {\n  return new (t || MemberMessagesComponent)(i0.ɵɵdirectiveInject(i1.MessageService));\n};\n\nMemberMessagesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MemberMessagesComponent,\n  selectors: [[\"app-member-messages\"]],\n  inputs: {\n    username: \"username\"\n  },\n  decls: 14,\n  vars: 6,\n  consts: [[1, \"card\"], [1, \"card-body\"], [4, \"ngIf\", \"ngIfElse\"], [\"noMessages\", \"\"], [1, \"card-footer\"], [\"autocomplete\", \"off\", 3, \"ngSubmit\"], [\"messageForm\", \"ngForm\"], [1, \"input-group\"], [\"name\", \"messageConetnt\", \"required\", \"\", \"type\", \"text\", \"placeholder\", \"Send a private message\", 1, \"form-control\", \"input-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"chat\", 2, \"overflow\", \"scroll\", \"height\", \"400px\", 3, \"scrollTop\"], [\"scrollMe\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"chat-img\", \"float-right\"], [1, \"rounded-circle\", 3, \"src\", \"alt\"], [1, \"chat-body\"], [1, \"header\"], [1, \"text-muted\"], [1, \"span\", \"fa\", \"fa-clock-o\"], [\"class\", \"text-danger ml-2\", 4, \"ngIf\"], [\"class\", \"text-success ml-2\", 4, \"ngIf\"], [1, \"text-danger\", \"ml-2\"], [1, \"text-success\", \"ml-2\"]],\n  template: function MemberMessagesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r11 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵtemplate(2, MemberMessagesComponent_ng_container_2_Template, 5, 4, \"ng-container\", 2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, MemberMessagesComponent_ng_template_4_Template, 1, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 4);\n      i0.ɵɵelementStart(7, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function MemberMessagesComponent_Template_form_ngSubmit_7_listener() {\n        i0.ɵɵrestoreView(_r11);\n\n        const _r3 = i0.ɵɵreference(8);\n\n        return ctx.sendMessage(_r3);\n      });\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵelementStart(10, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function MemberMessagesComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.messageContent = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 9);\n      i0.ɵɵelementStart(12, \"button\", 10);\n      i0.ɵɵtext(13, \"Send\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n\n      const _r3 = i0.ɵɵreference(8);\n\n      let tmp_0_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(3, 4, ctx.messageService.messageThread$)) == null ? null : tmp_0_0.length)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.messageContent);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !_r3.valid);\n    }\n  },\n  directives: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel, i2.NgForOf],\n  pipes: [i2.AsyncPipe, i4.TimeagoPipe],\n  styles: [\".card[_ngcontent-%COMP%]{\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]{\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px dotted #B3A9A9;\\r\\n}\\r\\n\\r\\n.rounded-circle[_ngcontent-%COMP%]{\\r\\n    max-height: 50px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1tZXNzYWdlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQixpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEIiLCJmaWxlIjoibWVtYmVyLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZHtcclxuICAgIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuLmNoYXR7XHJcbiAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuLmNoYXQgbGl7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNCM0E5QTk7XHJcbn1cclxuXHJcbi5yb3VuZGVkLWNpcmNsZXtcclxuICAgIG1heC1oZWlnaHQ6IDUwcHg7XHJcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["C:/projects/JobsApp/JobsApp/Client/src/app/components/members/member-messages/member-messages.component.ts"],"names":["i0","i1","i2","i3","i4","MemberMessagesComponent_ng_container_2_li_3_span_10_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","message_r6","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵtextInterpolate1","recipientKnownAs","MemberMessagesComponent_ng_container_2_li_3_span_11_Template","ɵɵpipe","ɵɵtextInterpolate2","ɵɵpipeBind1","dateRead","MemberMessagesComponent_ng_container_2_li_3_Template","ɵɵelement","ɵɵtemplate","ctx_r5","ɵɵproperty","senderPhotoUrl","ɵɵsanitizeUrl","senderUsername","messageSent","username","ɵɵtextInterpolate","content","MemberMessagesComponent_ng_container_2_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","_r4","ɵɵreference","ctx_r0","scrollHeight","messageService","messageThread$","MemberMessagesComponent_ng_template_4_Template","MemberMessagesComponent","constructor","ngOnInit","sendMessage","form","messageContent","then","reset","ɵfac","MemberMessagesComponent_Factory","t","ɵɵdirectiveInject","MessageService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","MemberMessagesComponent_Template","_r11","ɵɵgetCurrentView","ɵɵtemplateRefExtractor","ɵɵlistener","MemberMessagesComponent_Template_form_ngSubmit_7_listener","ɵɵrestoreView","_r3","MemberMessagesComponent_Template_input_ngModelChange_10_listener","$event","_r1","tmp_0_0","length","valid","directives","NgIf","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","NgControlStatus","NgModel","NgForOf","pipes","AsyncPipe","TimeagoPipe","styles"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,kCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,aAApB;;AACA,SAASC,4DAAT,CAAsEC,EAAtE,EAA0EC,GAA1E,EAA+E;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACzFN,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,CAAV;AACAT,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,UAAU,GAAGX,EAAE,CAACY,aAAH,GAAmBC,SAAtC;AACAb,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACe,kBAAH,CAAsB,GAAtB,EAA2BJ,UAAU,CAACK,gBAAtC,EAAwD,YAAxD;AACH;AAAE;;AACH,SAASC,4DAAT,CAAsEX,EAAtE,EAA0EC,GAA1E,EAA+E;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACzFN,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,CAAV;AACAT,IAAAA,EAAE,CAACkB,MAAH,CAAU,CAAV,EAAa,SAAb;AACAlB,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,UAAU,GAAGX,EAAE,CAACY,aAAH,GAAmBC,SAAtC;AACAb,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACmB,kBAAH,CAAsB,GAAtB,EAA2BR,UAAU,CAACK,gBAAtC,EAAwD,SAAxD,EAAmEhB,EAAE,CAACoB,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqBT,UAAU,CAACU,QAAhC,CAAnE,EAA8G,GAA9G;AACH;AAAE;;AACH,SAASC,oDAAT,CAA8DhB,EAA9D,EAAkEC,GAAlE,EAAuE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjFN,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAR,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,CAAV,EAAa,YAAb;AACAT,IAAAA,EAAE,CAACuB,SAAH,CAAa,CAAb,EAAgB,KAAhB,EAAuB,EAAvB;AACAvB,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAR,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,EAA5B;AACAR,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,EAA9B;AACAR,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,EAA7B;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,CAAV;AACAT,IAAAA,EAAE,CAACkB,MAAH,CAAU,CAAV,EAAa,SAAb;AACAlB,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACwB,UAAH,CAAc,EAAd,EAAkBnB,4DAAlB,EAAgF,CAAhF,EAAmF,CAAnF,EAAsF,MAAtF,EAA8F,EAA9F;AACAL,IAAAA,EAAE,CAACwB,UAAH,CAAc,EAAd,EAAkBP,4DAAlB,EAAgF,CAAhF,EAAmF,CAAnF,EAAsF,MAAtF,EAA8F,EAA9F;AACAjB,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,GAAtB;AACAR,IAAAA,EAAE,CAACS,MAAH,CAAU,EAAV;AACAT,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,UAAU,GAAGJ,GAAG,CAACM,SAAvB;AACA,UAAMY,MAAM,GAAGzB,EAAE,CAACY,aAAH,CAAiB,CAAjB,CAAf;AACAZ,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAAC0B,UAAH,CAAc,KAAd,EAAqBf,UAAU,CAACgB,cAAX,IAA6B,mBAAlD,EAAuE3B,EAAE,CAAC4B,aAA1E,EAAyF,KAAzF,EAAgGjB,UAAU,CAACkB,cAA3G;AACA7B,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACe,kBAAH,CAAsB,SAAtB,EAAiCf,EAAE,CAACoB,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqBT,UAAU,CAACmB,WAAhC,CAAjC,EAA+E,GAA/E;AACA9B,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAAC0B,UAAH,CAAc,MAAd,EAAsB,CAACf,UAAU,CAACU,QAAZ,IAAwBV,UAAU,CAACkB,cAAX,KAA8BJ,MAAM,CAACM,QAAnF;AACA/B,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAAC0B,UAAH,CAAc,MAAd,EAAsBf,UAAU,CAACU,QAAX,IAAuBV,UAAU,CAACkB,cAAX,KAA8BJ,MAAM,CAACM,QAAlF;AACA/B,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACgC,iBAAH,CAAqBrB,UAAU,CAACsB,OAAhC;AACH;AAAE;;AACH,SAASC,+CAAT,CAAyD5B,EAAzD,EAA6DC,GAA7D,EAAkE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC5EN,IAAAA,EAAE,CAACmC,uBAAH,CAA2B,CAA3B;AACAnC,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,EAA3B,EAA+B,EAA/B;AACAR,IAAAA,EAAE,CAACwB,UAAH,CAAc,CAAd,EAAiBF,oDAAjB,EAAuE,EAAvE,EAA2E,CAA3E,EAA8E,IAA9E,EAAoF,EAApF;AACAtB,IAAAA,EAAE,CAACkB,MAAH,CAAU,CAAV,EAAa,OAAb;AACAlB,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACoC,qBAAH;AACH;;AAAC,MAAI9B,EAAE,GAAG,CAAT,EAAY;AACV,UAAM+B,GAAG,GAAGrC,EAAE,CAACsC,WAAH,CAAe,CAAf,CAAZ;;AACA,UAAMC,MAAM,GAAGvC,EAAE,CAACY,aAAH,EAAf;AACAZ,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAAC0B,UAAH,CAAc,WAAd,EAA2BW,GAAG,CAACG,YAA/B;AACAxC,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAAC0B,UAAH,CAAc,SAAd,EAAyB1B,EAAE,CAACoB,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqBmB,MAAM,CAACE,cAAP,CAAsBC,cAA3C,CAAzB;AACH;AAAE;;AACH,SAASC,8CAAT,CAAwDrC,EAAxD,EAA4DC,GAA5D,EAAiE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC3EN,IAAAA,EAAE,CAACS,MAAH,CAAU,CAAV,EAAa,0DAAb;AACH;AAAE;;AACH,OAAO,MAAMmC,uBAAN,CAA8B;AACjCC,EAAAA,WAAW,CAACJ,cAAD,EAAiB;AACxB,SAAKA,cAAL,GAAsBA,cAAtB;AACH;;AACDK,EAAAA,QAAQ,GAAG,CAAG;;AACdC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,SAAKP,cAAL,CAAoBM,WAApB,CAAgC,KAAKhB,QAArC,EAA+C,KAAKkB,cAApD,EACKC,IADL,CACU,MAAM;AACZF,MAAAA,IAAI,CAACG,KAAL;AACH,KAHD;AAIH;;AAVgC;;AAYrCP,uBAAuB,CAACQ,IAAxB,GAA+B,SAASC,+BAAT,CAAyCC,CAAzC,EAA4C;AAAE,SAAO,KAAKA,CAAC,IAAIV,uBAAV,EAAmC5C,EAAE,CAACuD,iBAAH,CAAqBtD,EAAE,CAACuD,cAAxB,CAAnC,CAAP;AAAqF,CAAlK;;AACAZ,uBAAuB,CAACa,IAAxB,GAA+B,aAAczD,EAAE,CAAC0D,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAEf,uBAAR;AAAiCgB,EAAAA,SAAS,EAAE,CAAC,CAAC,qBAAD,CAAD,CAA5C;AAAuEC,EAAAA,MAAM,EAAE;AAAE9B,IAAAA,QAAQ,EAAE;AAAZ,GAA/E;AAAyG+B,EAAAA,KAAK,EAAE,EAAhH;AAAoHC,EAAAA,IAAI,EAAE,CAA1H;AAA6HC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,MAAJ,CAAD,EAAc,CAAC,CAAD,EAAI,WAAJ,CAAd,EAAgC,CAAC,CAAD,EAAI,MAAJ,EAAY,UAAZ,CAAhC,EAAyD,CAAC,YAAD,EAAe,EAAf,CAAzD,EAA6E,CAAC,CAAD,EAAI,aAAJ,CAA7E,EAAiG,CAAC,cAAD,EAAiB,KAAjB,EAAwB,CAAxB,EAA2B,UAA3B,CAAjG,EAAyI,CAAC,aAAD,EAAgB,QAAhB,CAAzI,EAAoK,CAAC,CAAD,EAAI,aAAJ,CAApK,EAAwL,CAAC,MAAD,EAAS,gBAAT,EAA2B,UAA3B,EAAuC,EAAvC,EAA2C,MAA3C,EAAmD,MAAnD,EAA2D,aAA3D,EAA0E,wBAA1E,EAAoG,CAApG,EAAuG,cAAvG,EAAuH,UAAvH,EAAmI,CAAnI,EAAsI,SAAtI,EAAiJ,eAAjJ,CAAxL,EAA2V,CAAC,CAAD,EAAI,oBAAJ,CAA3V,EAAsX,CAAC,MAAD,EAAS,QAAT,EAAmB,CAAnB,EAAsB,KAAtB,EAA6B,aAA7B,EAA4C,CAA5C,EAA+C,UAA/C,CAAtX,EAAkb,CAAC,CAAD,EAAI,MAAJ,EAAY,CAAZ,EAAe,UAAf,EAA2B,QAA3B,EAAqC,QAArC,EAA+C,OAA/C,EAAwD,CAAxD,EAA2D,WAA3D,CAAlb,EAA2f,CAAC,UAAD,EAAa,EAAb,CAA3f,EAA6gB,CAAC,CAAD,EAAI,OAAJ,EAAa,SAAb,CAA7gB,EAAsiB,CAAC,CAAD,EAAI,UAAJ,EAAgB,aAAhB,CAAtiB,EAAskB,CAAC,CAAD,EAAI,gBAAJ,EAAsB,CAAtB,EAAyB,KAAzB,EAAgC,KAAhC,CAAtkB,EAA8mB,CAAC,CAAD,EAAI,WAAJ,CAA9mB,EAAgoB,CAAC,CAAD,EAAI,QAAJ,CAAhoB,EAA+oB,CAAC,CAAD,EAAI,YAAJ,CAA/oB,EAAkqB,CAAC,CAAD,EAAI,MAAJ,EAAY,IAAZ,EAAkB,YAAlB,CAAlqB,EAAmsB,CAAC,OAAD,EAAU,kBAAV,EAA8B,CAA9B,EAAiC,MAAjC,CAAnsB,EAA6uB,CAAC,OAAD,EAAU,mBAAV,EAA+B,CAA/B,EAAkC,MAAlC,CAA7uB,EAAwxB,CAAC,CAAD,EAAI,aAAJ,EAAmB,MAAnB,CAAxxB,EAAozB,CAAC,CAAD,EAAI,cAAJ,EAAoB,MAApB,CAApzB,CAArI;AAAu9BC,EAAAA,QAAQ,EAAE,SAASC,gCAAT,CAA0C5D,EAA1C,EAA8CC,GAA9C,EAAmD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC5lC,YAAM6D,IAAI,GAAGnE,EAAE,CAACoE,gBAAH,EAAb;;AACApE,MAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAR,MAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAR,MAAAA,EAAE,CAACwB,UAAH,CAAc,CAAd,EAAiBU,+CAAjB,EAAkE,CAAlE,EAAqE,CAArE,EAAwE,cAAxE,EAAwF,CAAxF;AACAlC,MAAAA,EAAE,CAACkB,MAAH,CAAU,CAAV,EAAa,OAAb;AACAlB,MAAAA,EAAE,CAACwB,UAAH,CAAc,CAAd,EAAiBmB,8CAAjB,EAAiE,CAAjE,EAAoE,CAApE,EAAuE,aAAvE,EAAsF,IAAtF,EAA4F,CAA5F,EAA+F3C,EAAE,CAACqE,sBAAlG;AACArE,MAAAA,EAAE,CAACU,YAAH;AACAV,MAAAA,EAAE,CAACU,YAAH;AACAV,MAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAR,MAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,CAA7B,EAAgC,CAAhC;AACAR,MAAAA,EAAE,CAACsE,UAAH,CAAc,UAAd,EAA0B,SAASC,yDAAT,GAAqE;AAAEvE,QAAAA,EAAE,CAACwE,aAAH,CAAiBL,IAAjB;;AAAwB,cAAMM,GAAG,GAAGzE,EAAE,CAACsC,WAAH,CAAe,CAAf,CAAZ;;AAA+B,eAAO/B,GAAG,CAACwC,WAAJ,CAAgB0B,GAAhB,CAAP;AAA8B,OAAtL;AACAzE,MAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAR,MAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,OAAtB,EAA+B,CAA/B;AACAR,MAAAA,EAAE,CAACsE,UAAH,CAAc,eAAd,EAA+B,SAASI,gEAAT,CAA0EC,MAA1E,EAAkF;AAAE,eAAOpE,GAAG,CAAC0C,cAAJ,GAAqB0B,MAA5B;AAAqC,OAAxJ;AACA3E,MAAAA,EAAE,CAACU,YAAH;AACAV,MAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B;AACAR,MAAAA,EAAE,CAACQ,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAR,MAAAA,EAAE,CAACS,MAAH,CAAU,EAAV,EAAc,MAAd;AACAT,MAAAA,EAAE,CAACU,YAAH;AACAV,MAAAA,EAAE,CAACU,YAAH;AACAV,MAAAA,EAAE,CAACU,YAAH;AACAV,MAAAA,EAAE,CAACU,YAAH;AACAV,MAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,YAAMsE,GAAG,GAAG5E,EAAE,CAACsC,WAAH,CAAe,CAAf,CAAZ;;AACA,YAAMmC,GAAG,GAAGzE,EAAE,CAACsC,WAAH,CAAe,CAAf,CAAZ;;AACA,UAAIuC,OAAJ;AACA7E,MAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,MAAAA,EAAE,CAAC0B,UAAH,CAAc,MAAd,EAAsB,CAACmD,OAAO,GAAG7E,EAAE,CAACoB,WAAH,CAAe,CAAf,EAAkB,CAAlB,EAAqBb,GAAG,CAACkC,cAAJ,CAAmBC,cAAxC,CAAX,KAAuE,IAAvE,GAA8E,IAA9E,GAAqFmC,OAAO,CAACC,MAAnH,EAA2H,UAA3H,EAAuIF,GAAvI;AACA5E,MAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,MAAAA,EAAE,CAAC0B,UAAH,CAAc,SAAd,EAAyBnB,GAAG,CAAC0C,cAA7B;AACAjD,MAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,MAAAA,EAAE,CAAC0B,UAAH,CAAc,UAAd,EAA0B,CAAC+C,GAAG,CAACM,KAA/B;AACH;AAAE,GAlC2D;AAkCzDC,EAAAA,UAAU,EAAE,CAAC9E,EAAE,CAAC+E,IAAJ,EAAU9E,EAAE,CAAC+E,aAAb,EAA4B/E,EAAE,CAACgF,oBAA/B,EAAqDhF,EAAE,CAACiF,MAAxD,EAAgEjF,EAAE,CAACkF,oBAAnE,EAAyFlF,EAAE,CAACmF,iBAA5F,EAA+GnF,EAAE,CAACoF,eAAlH,EAAmIpF,EAAE,CAACqF,OAAtI,EAA+ItF,EAAE,CAACuF,OAAlJ,CAlC6C;AAkC+GC,EAAAA,KAAK,EAAE,CAACxF,EAAE,CAACyF,SAAJ,EAAevF,EAAE,CAACwF,WAAlB,CAlCtH;AAkCsJC,EAAAA,MAAM,EAAE,CAAC,krCAAD;AAlC9J,CAArB,CAA7C","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/Message.service\";\r\nimport * as i2 from \"@angular/common\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"ngx-timeago\";\r\nfunction MemberMessagesComponent_ng_container_2_li_3_span_10_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 22);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const message_r6 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", message_r6.recipientKnownAs, \" (unread) \");\r\n} }\r\nfunction MemberMessagesComponent_ng_container_2_li_3_span_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 23);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"timeago\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const message_r6 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate2(\" \", message_r6.recipientKnownAs, \" Read: \", i0.ɵɵpipeBind1(2, 2, message_r6.dateRead), \" \");\r\n} }\r\nfunction MemberMessagesComponent_ng_container_2_li_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\");\r\n    i0.ɵɵelementStart(1, \"span\", 14);\r\n    i0.ɵɵtext(2, \" Sent by: \");\r\n    i0.ɵɵelement(3, \"img\", 15);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"div\", 16);\r\n    i0.ɵɵelementStart(5, \"div\", 17);\r\n    i0.ɵɵelementStart(6, \"small\", 18);\r\n    i0.ɵɵelementStart(7, \"span\", 19);\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵpipe(9, \"timeago\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(10, MemberMessagesComponent_ng_container_2_li_3_span_10_Template, 2, 1, \"span\", 20);\r\n    i0.ɵɵtemplate(11, MemberMessagesComponent_ng_container_2_li_3_span_11_Template, 3, 4, \"span\", 21);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"p\");\r\n    i0.ɵɵtext(13);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const message_r6 = ctx.$implicit;\r\n    const ctx_r5 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"src\", message_r6.senderPhotoUrl || \"./assets/user.png\", i0.ɵɵsanitizeUrl)(\"alt\", message_r6.senderUsername);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate1(\" Sent: \", i0.ɵɵpipeBind1(9, 6, message_r6.messageSent), \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", !message_r6.dateRead && message_r6.senderUsername !== ctx_r5.username);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", message_r6.dateRead && message_r6.senderUsername !== ctx_r5.username);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(message_r6.content);\r\n} }\r\nfunction MemberMessagesComponent_ng_container_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"ul\", 11, 12);\r\n    i0.ɵɵtemplate(3, MemberMessagesComponent_ng_container_2_li_3_Template, 14, 8, \"li\", 13);\r\n    i0.ɵɵpipe(4, \"async\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const _r4 = i0.ɵɵreference(2);\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"scrollTop\", _r4.scrollHeight);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(4, 2, ctx_r0.messageService.messageThread$));\r\n} }\r\nfunction MemberMessagesComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵtext(0, \"No messages yet.. say Hi to using the message box bellow\");\r\n} }\r\nexport class MemberMessagesComponent {\r\n    constructor(messageService) {\r\n        this.messageService = messageService;\r\n    }\r\n    ngOnInit() { }\r\n    sendMessage(form) {\r\n        this.messageService.sendMessage(this.username, this.messageContent)\r\n            .then(() => {\r\n            form.reset();\r\n        });\r\n    }\r\n}\r\nMemberMessagesComponent.ɵfac = function MemberMessagesComponent_Factory(t) { return new (t || MemberMessagesComponent)(i0.ɵɵdirectiveInject(i1.MessageService)); };\r\nMemberMessagesComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MemberMessagesComponent, selectors: [[\"app-member-messages\"]], inputs: { username: \"username\" }, decls: 14, vars: 6, consts: [[1, \"card\"], [1, \"card-body\"], [4, \"ngIf\", \"ngIfElse\"], [\"noMessages\", \"\"], [1, \"card-footer\"], [\"autocomplete\", \"off\", 3, \"ngSubmit\"], [\"messageForm\", \"ngForm\"], [1, \"input-group\"], [\"name\", \"messageConetnt\", \"required\", \"\", \"type\", \"text\", \"placeholder\", \"Send a private message\", 1, \"form-control\", \"input-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"chat\", 2, \"overflow\", \"scroll\", \"height\", \"400px\", 3, \"scrollTop\"], [\"scrollMe\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"chat-img\", \"float-right\"], [1, \"rounded-circle\", 3, \"src\", \"alt\"], [1, \"chat-body\"], [1, \"header\"], [1, \"text-muted\"], [1, \"span\", \"fa\", \"fa-clock-o\"], [\"class\", \"text-danger ml-2\", 4, \"ngIf\"], [\"class\", \"text-success ml-2\", 4, \"ngIf\"], [1, \"text-danger\", \"ml-2\"], [1, \"text-success\", \"ml-2\"]], template: function MemberMessagesComponent_Template(rf, ctx) { if (rf & 1) {\r\n        const _r11 = i0.ɵɵgetCurrentView();\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵtemplate(2, MemberMessagesComponent_ng_container_2_Template, 5, 4, \"ng-container\", 2);\r\n        i0.ɵɵpipe(3, \"async\");\r\n        i0.ɵɵtemplate(4, MemberMessagesComponent_ng_template_4_Template, 1, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"div\", 4);\r\n        i0.ɵɵelementStart(7, \"form\", 5, 6);\r\n        i0.ɵɵlistener(\"ngSubmit\", function MemberMessagesComponent_Template_form_ngSubmit_7_listener() { i0.ɵɵrestoreView(_r11); const _r3 = i0.ɵɵreference(8); return ctx.sendMessage(_r3); });\r\n        i0.ɵɵelementStart(9, \"div\", 7);\r\n        i0.ɵɵelementStart(10, \"input\", 8);\r\n        i0.ɵɵlistener(\"ngModelChange\", function MemberMessagesComponent_Template_input_ngModelChange_10_listener($event) { return ctx.messageContent = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 9);\r\n        i0.ɵɵelementStart(12, \"button\", 10);\r\n        i0.ɵɵtext(13, \"Send\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r1 = i0.ɵɵreference(5);\r\n        const _r3 = i0.ɵɵreference(8);\r\n        let tmp_0_0;\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(3, 4, ctx.messageService.messageThread$)) == null ? null : tmp_0_0.length)(\"ngIfElse\", _r1);\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.messageContent);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"disabled\", !_r3.valid);\r\n    } }, directives: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel, i2.NgForOf], pipes: [i2.AsyncPipe, i4.TimeagoPipe], styles: [\".card[_ngcontent-%COMP%]{\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]{\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px dotted #B3A9A9;\\r\\n}\\r\\n\\r\\n.rounded-circle[_ngcontent-%COMP%]{\\r\\n    max-height: 50px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1tZXNzYWdlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQixpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEIiLCJmaWxlIjoibWVtYmVyLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZHtcclxuICAgIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuLmNoYXR7XHJcbiAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuLmNoYXQgbGl7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNCM0E5QTk7XHJcbn1cclxuXHJcbi5yb3VuZGVkLWNpcmNsZXtcclxuICAgIG1heC1oZWlnaHQ6IDUwcHg7XHJcbn0iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}